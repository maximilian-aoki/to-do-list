(()=>{"use strict";let t={};function e(e,n){t[e]=t[e]||[],t[e].push(n)}function n(e,n){t[e]&&t[e].forEach((t=>{t(n)}))}let o,r=function(){const t=document.querySelector(".project-list");function e(t,e){const n=document.createElement("div");n.setAttribute("data-index",e);const o=t.title?t.title:"Untitled Project",r=function(t){let e=0;for(let n of t.items)!1===n.completed&&e++;return e}(t);return n.innerHTML=`\n    <div class="project-meta">\n      <p>${o}</p>\n      <p class="task-meta">open tasks: ${r}</p>\n    </div>\n    <button type="button" class="delete-button"></button>\n    `,n}return t.addEventListener("click",(function(t){t.target.closest(".delete-button")?n("deleteProject",t.target.closest("div[data-index]").getAttribute("data-index")):t.target.closest("div[data-index]")?n("selectProject",t.target.closest("div[data-index]").getAttribute("data-index")):t.target.closest(".project-add")&&n("addProject",null)})),{renderProjects:function(n){!function(t){let e=Array.from(t.children);for(let n of e)t.removeChild(n)}(t);for(let o of n.projects){const r=n.projects.indexOf(o);t.appendChild(e(o,r))}t.appendChild(function(){const t=document.createElement("div");return t.classList.add("project-add"),t.innerHTML='\n      <p>Add A Project!</p>\n      <div class="add-button"></div>\n      ',t}())}}}(),i=function(){const t=document.querySelector(".content"),e=document.querySelector(".project-name"),o=document.querySelector(".project-description"),r=document.querySelector(".todo-items");function i(t,e){const n=document.createElement("div");n.classList.add("todo"),n.setAttribute("data-index",e);let o="";t.completed&&(n.classList.add("completed"),o="checked");let r=t.priority.toLowerCase();return n.innerHTML=`\n    <input type="checkbox" class="checkbox" ${o}>\n    <h3>${t.title}</h3>\n    <p class="todo-description">${t.description}</p>\n    <p>${t.dueDate}</p>\n    <div class="priority ${r}">${t.priority}</div>\n    <div class="delete-todo"></div>\n    `,n}function c(t){n("openModal","string"==typeof t?t:void 0)}return document.querySelector(".add-todo").addEventListener("click",c),r.addEventListener("click",(function(t){t.target.closest(".delete-todo")?n("deleteItem",t.target.closest("div[data-index]").getAttribute("data-index")):t.target.closest(".checkbox")?n("toggleItemStatus",t.target.closest("div[data-index]").getAttribute("data-index")):t.target.closest(".todo")&&c(t.target.closest("div[data-index]").getAttribute("data-index"))})),e.addEventListener("input",(function(){n("changeProjName",e.value)})),o.addEventListener("input",(function(){n("changeProjDesc",o.value)})),{renderContent:function(n){n?(t.style.visibility="visible",function(t){e.value=t.title?t.title:"",o.value=t.description?t.description:""}(n),function(t){!function(t){let e=Array.from(t.children);for(let n of e)t.removeChild(n)}(r);for(let e of t.items){const n=t.items.indexOf(e);r.appendChild(i(e,n))}}(n)):t.style.visibility="hidden"}}}(),c=function(){const t=document.querySelector("dialog"),e=document.querySelector("form"),o=document.querySelector(".close-modal"),r=document.querySelector(".dialog-header"),i=document.querySelector(".submit-todo"),c=document.querySelector("#title"),d=document.querySelector("#description"),s=document.querySelector("#due-date"),u=document.querySelector("#priority"),l=document.querySelector("#notes");function a(){c.value="",d.value="",s.value="",l.value="",u.value="Medium",t.close()}return t.addEventListener("click",(function(e){const n=t.getBoundingClientRect();(e.clientX<n.left||e.clientX>n.right||e.clientY<n.top||e.clientY>n.bottom)&&a()})),e.addEventListener("submit",(function(){n("submitModal",{title:c.value.trim(),description:d.value.trim(),dueDate:s.value.trim(),priority:u.value.trim(),notes:l.value.trim()}),a()})),o.addEventListener("click",a),{createDialog:function(e){e?(r.innerText=e.title,i.innerText="Save",c.value=e.title,d.value=e.description,s.value=e.dueDate,u.value=e.priority,l.value=e.notes):(r.innerText="Add New To-Do",i.innerText="Add To-Do"),t.showModal()}}}();function d(){r.renderProjects(o)}function s(){i.renderContent(o.currentProject)}e("addProject",(function(){o.addProject(),o.currentProject=o.projects[o.projects.length-1],d(),s()})),e("deleteProject",(function(t){o.removeProject(t),o.currentProject=o.projects[o.projects.length-1],d(),s()})),e("selectProject",(function(t){o.currentProject=o.projects[t],s()})),e("renderProjects",d),e("changeProjName",(function(t){o.currentProject.title=t,d()})),e("changeProjDesc",(function(t){o.currentProject.description=t})),e("renderContent",s),e("deleteItem",(function(t){o.currentProject.removeItem(t),d(),s()})),e("toggleItemStatus",(function(t){o.currentProject.items[t].toggleCompleted(),d(),s()})),e("openModal",(function(t){o.currentProject.currentItem=o.currentProject.items[t],c.createDialog(o.currentProject.currentItem)})),e("submitModal",(function(t){o.currentProject.currentItem?o.currentProject.currentItem.edit(t):o.currentProject.addItem(t),d(),s()})),o={projects:[],addProject:function(){this.projects.push({title:void 0,description:void 0,dateCreated:new Date,items:[],edit:function(t){this.title=t.title,this.description=t.description},addItem:function(t){var e;this.items.push({title:(e=t).title,description:e.description,dueDate:e.dueDate,priority:e.priority,notes:e.notes,dateCreated:new Date,completed:!1,edit:function(t){this.title=t.title,this.description=t.description,this.dueDate=t.dueDate,this.priority=t.priority,this.notes=t.notes},toggleCompleted:function(){this.completed=!this.completed}})},removeItem:function(t){this.items.splice(t,1)},sort:function(t,e=!0){this.items=e?this.items.sort(((e,n)=>e[t]>n[t]?-1:1)):this.items.sort(((e,n)=>e[t]>n[t]?1:-1))}})},removeProject:function(t){this.projects.splice(t,1)}},o.addProject(),o.currentProject=o.projects[0],d(),s()})();
//# sourceMappingURL=app.bundle.js.map