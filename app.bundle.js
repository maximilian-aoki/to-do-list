(()=>{"use strict";let e={};function t(t,r){e[t]=e[t]||[],e[t].push(r)}function r(t,r){e[t]&&e[t].forEach((e=>{e(r)}))}const n=function(){return{title:void 0,description:void 0,dateCreated:new Date,items:[],currentItem:undefined}};let o,c=function(){const e=document.querySelector(".project-list");function t(e,t){const r=document.createElement("div");r.setAttribute("data-index",t);const n=e.title?e.title:"Untitled Project",o=function(e){let t=0;for(let r of e.items)!1===r.completed&&t++;return t}(e);return r.innerHTML=`\n    <div class="project-meta">\n      <p>${n}</p>\n      <p class="task-meta">open tasks: ${o}</p>\n    </div>\n    <button type="button" class="delete-button"></button>\n    `,r}return e.addEventListener("click",(function(e){e.target.closest(".delete-button")?r("deleteProject",e.target.closest("div[data-index]").getAttribute("data-index")):e.target.closest("div[data-index]")?r("selectProject",e.target.closest("div[data-index]").getAttribute("data-index")):e.target.closest(".project-add")&&r("addProject",null)})),{renderProjects:function(r){!function(e){let t=Array.from(e.children);for(let r of t)e.removeChild(r)}(e);for(let n of r.projects){const o=r.projects.indexOf(n);e.appendChild(t(n,o))}e.appendChild(function(){const e=document.createElement("div");return e.classList.add("project-add"),e.innerHTML='\n      <p>Add A Project!</p>\n      <div class="add-button"></div>\n      ',e}())}}}(),i=function(){const e=document.querySelector(".content"),t=document.querySelector(".project-name"),n=document.querySelector(".project-description"),o=document.querySelector(".todo-items");function c(e,t){const r=document.createElement("div");r.classList.add("todo"),r.setAttribute("data-index",t);let n="";e.completed&&(r.classList.add("completed"),n="checked");let o=e.priority.toLowerCase();return r.innerHTML=`\n    <input type="checkbox" class="checkbox" ${n}>\n    <h3>${e.title}</h3>\n    <p class="todo-description">${e.description}</p>\n    <p>${e.dueDate}</p>\n    <div class="priority ${o}">${e.priority}</div>\n    <div class="delete-todo"></div>\n    `,r}function i(e){r("openModal","string"==typeof e?e:void 0)}return document.querySelector(".add-todo").addEventListener("click",i),o.addEventListener("click",(function(e){e.target.closest(".delete-todo")?r("deleteItem",e.target.closest("div[data-index]").getAttribute("data-index")):e.target.closest(".checkbox")?r("toggleItemStatus",e.target.closest("div[data-index]").getAttribute("data-index")):e.target.closest(".todo")&&i(e.target.closest("div[data-index]").getAttribute("data-index"))})),t.addEventListener("input",(function(){r("changeProjName",t.value)})),n.addEventListener("input",(function(){r("changeProjDesc",n.value)})),{renderContent:function(r){r?(e.style.visibility="visible",function(e){t.value=e.title?e.title:"",n.value=e.description?e.description:""}(r),function(e){!function(e){let t=Array.from(e.children);for(let r of t)e.removeChild(r)}(o);for(let t of e.items){const r=e.items.indexOf(t);o.appendChild(c(t,r))}}(r)):e.style.visibility="hidden"}}}(),d=function(){const e=document.querySelector("dialog"),t=document.querySelector("form"),n=document.querySelector(".close-modal"),o=document.querySelector(".dialog-header"),c=document.querySelector(".submit-todo"),i=document.querySelector("#title"),d=document.querySelector("#description"),a=document.querySelector("#due-date"),l=document.querySelector("#priority"),s=document.querySelector("#notes");function u(){i.value="",d.value="",a.value="",s.value="",l.value="Medium",e.close()}return e.addEventListener("click",(function(t){const r=e.getBoundingClientRect();(t.clientX<r.left||t.clientX>r.right||t.clientY<r.top||t.clientY>r.bottom)&&u()})),t.addEventListener("submit",(function(){r("submitModal",{title:i.value.trim(),description:d.value.trim(),dueDate:a.value.trim(),priority:l.value.trim(),notes:s.value.trim()}),u()})),n.addEventListener("click",u),{createDialog:function(t){t?(o.innerText=t.title,c.innerText="Save",i.value=t.title,d.value=t.description,a.value=t.dueDate,l.value=t.priority,s.value=t.notes):(o.innerText="Add New To-Do",c.innerText="Add To-Do"),e.showModal()}}}();function a(){c.renderProjects(o)}function l(){i.renderContent(o.currentProject)}t("addProject",(function(){o.projects.push(n()),o.currentProject=o.projects[o.projects.length-1],localStorage.setItem("app",JSON.stringify(o)),a(),l()})),t("deleteProject",(function(e){o.projects.splice(e,1),o.currentProject=o.projects[o.projects.length-1],localStorage.setItem("app",JSON.stringify(o)),a(),l()})),t("selectProject",(function(e){o.currentProject=o.projects[e],localStorage.setItem("app",JSON.stringify(o)),l()})),t("renderProjects",a),t("changeProjName",(function(e){o.currentProject.title=e,localStorage.setItem("app",JSON.stringify(o)),a()})),t("changeProjDesc",(function(e){o.currentProject.description=e,localStorage.setItem("app",JSON.stringify(o))})),t("renderContent",l),t("deleteItem",(function(e){(function(e,t){e.items.splice(t,1)})(o.currentProject,e),localStorage.setItem("app",JSON.stringify(o)),a(),l()})),t("toggleItemStatus",(function(e){var t;(t=o.currentProject.items[e]).completed=!t.completed,localStorage.setItem("app",JSON.stringify(o)),a(),l()})),t("openModal",(function(e){o.currentProject.currentItem=o.currentProject.items[e],d.createDialog(o.currentProject.currentItem)})),t("submitModal",(function(e){var t,r,n,c;o.currentProject.currentItem?(c=e,(n=o.currentProject.currentItem).title=c.title,n.description=c.description,n.dueDate=c.dueDate,n.priority=c.priority,n.notes=c.notes):(r=e,o.currentProject.items.push({title:(t=r).title,description:t.description,dueDate:t.dueDate,priority:t.priority,notes:t.notes,dateCreated:new Date,completed:!1})),localStorage.setItem("app",JSON.stringify(o)),a(),l()})),localStorage.getItem("app")?(o=JSON.parse(localStorage.getItem("app")),o.currentProject=function(){for(let e of o.projects)if(e.dateCreated===o.currentProject.dateCreated)return e}()):(o={projects:[],currentProject:void 0},o.projects.push(n()),o.currentProject=o.projects[0]),a(),l()})();
//# sourceMappingURL=app.bundle.js.map