(()=>{"use strict";let e={};function t(t,n){e[t]=e[t]||[],e[t].push(n)}function n(t,n){e[t]&&e[t].forEach((e=>{e(n)}))}const o=function(){return{title:void 0,description:void 0,dateCreated:new Date,items:[],currentItem:undefined}};let r,c=function(){const e=document.querySelector(".project-list");function t(e,t){const n=document.createElement("div");n.setAttribute("data-index",t);const o=e.title?e.title:"Untitled Project",r=function(e){let t=0;for(let n of e.items)!1===n.completed&&t++;return t}(e);return n.innerHTML=`\n    <div class="project-meta">\n      <p>${o}</p>\n      <p class="task-meta">open tasks: ${r}</p>\n    </div>\n    <button type="button" class="delete-button"></button>\n    `,n}return e.addEventListener("click",(function(e){e.target.closest(".delete-button")?n("deleteProject",e.target.closest("div[data-index]").getAttribute("data-index")):e.target.closest("div[data-index]")?n("selectProject",e.target.closest("div[data-index]").getAttribute("data-index")):e.target.closest(".project-add")&&n("addProject",null)})),{renderProjects:function(n){!function(e){let t=Array.from(e.children);for(let n of t)e.removeChild(n)}(e);for(let o of n.projects){const r=n.projects.indexOf(o);e.appendChild(t(o,r))}e.appendChild(function(){const e=document.createElement("div");return e.classList.add("project-add"),e.innerHTML='\n      <p>Add A Project!</p>\n      <div class="add-button"></div>\n      ',e}())}}}(),i=function(){const e=document.querySelector(".content"),t=document.querySelector(".project-name"),o=document.querySelector(".project-description"),r=document.querySelector(".todo-items");function c(e,t){const n=document.createElement("div");n.classList.add("todo"),n.setAttribute("data-index",t);let o="";e.completed&&(n.classList.add("completed"),o="checked");let r=e.priority.toLowerCase();return n.innerHTML=`\n    <input type="checkbox" class="checkbox" ${o}>\n    <h3>${e.title}</h3>\n    <p class="todo-description">${e.description}</p>\n    <p>${e.dueDate}</p>\n    <div class="priority ${r}">${e.priority}</div>\n    <div class="delete-todo"></div>\n    `,n}function i(e){n("openModal","string"==typeof e?e:void 0)}return document.querySelector(".add-todo").addEventListener("click",i),r.addEventListener("click",(function(e){e.target.closest(".delete-todo")?n("deleteItem",e.target.closest("div[data-index]").getAttribute("data-index")):e.target.closest(".checkbox")?n("toggleItemStatus",e.target.closest("div[data-index]").getAttribute("data-index")):e.target.closest(".todo")&&i(e.target.closest("div[data-index]").getAttribute("data-index"))})),t.addEventListener("input",(function(){n("changeProjName",t.value)})),o.addEventListener("input",(function(){n("changeProjDesc",o.value)})),{renderContent:function(n){n?(e.style.visibility="visible",function(e){t.value=e.title?e.title:"",o.value=e.description?e.description:""}(n),function(e){!function(e){let t=Array.from(e.children);for(let n of t)e.removeChild(n)}(r);for(let t of e.items){const n=e.items.indexOf(t);r.appendChild(c(t,n))}}(n)):e.style.visibility="hidden"}}}(),d=function(){const e=document.querySelector("dialog"),t=document.querySelector("form"),o=document.querySelector(".close-modal"),r=document.querySelector(".dialog-header"),c=document.querySelector(".submit-todo"),i=document.querySelector("#title"),d=document.querySelector("#description"),a=document.querySelector("#due-date"),l=document.querySelector("#priority"),s=document.querySelector("#notes");function u(){i.value="",d.value="",a.value="",s.value="",l.value="Medium",e.close()}return e.addEventListener("click",(function(t){const n=e.getBoundingClientRect();(t.clientX<n.left||t.clientX>n.right||t.clientY<n.top||t.clientY>n.bottom)&&u()})),t.addEventListener("submit",(function(){n("submitModal",{title:i.value.trim(),description:d.value.trim(),dueDate:a.value.trim(),priority:l.value.trim(),notes:s.value.trim()}),u()})),o.addEventListener("click",u),{createDialog:function(t){t?(r.innerText=t.title,c.innerText="Save",i.value=t.title,d.value=t.description,a.value=t.dueDate,l.value=t.priority,s.value=t.notes):(r.innerText="Add New To-Do",c.innerText="Add To-Do"),e.showModal()}}}();function a(){c.renderProjects(r)}function l(){i.renderContent(r.currentProject)}t("addProject",(function(){r.projects.push(o()),r.currentProject=r.projects[r.projects.length-1],localStorage.setItem("app",JSON.stringify(r)),a(),l()})),t("deleteProject",(function(e){r.projects.splice(e,1),r.currentProject=r.projects[r.projects.length-1],localStorage.setItem("app",JSON.stringify(r)),a(),l()})),t("selectProject",(function(e){r.currentProject=r.projects[e],localStorage.setItem("app",JSON.stringify(r)),l()})),t("renderProjects",a),t("changeProjName",(function(e){r.currentProject.title=e,localStorage.setItem("app",JSON.stringify(r)),a()})),t("changeProjDesc",(function(e){r.currentProject.description=e,localStorage.setItem("app",JSON.stringify(r))})),t("renderContent",l),t("deleteItem",(function(e){(function(e,t){e.items.splice(t,1)})(r.currentProject,e),localStorage.setItem("app",JSON.stringify(r)),a(),l()})),t("toggleItemStatus",(function(e){var t;(t=r.currentProject.items[e]).completed=!t.completed,localStorage.setItem("app",JSON.stringify(r)),a(),l()})),t("openModal",(function(e){r.currentProject.currentItem=r.currentProject.items[e],d.createDialog(r.currentProject.currentItem)})),t("submitModal",(function(e){var t,n,o,c;r.currentProject.currentItem?(c=e,(o=r.currentProject.currentItem).title=c.title,o.description=c.description,o.dueDate=c.dueDate,o.priority=c.priority,o.notes=c.notes):(n=e,r.currentProject.items.push({title:(t=n).title,description:t.description,dueDate:t.dueDate,priority:t.priority,notes:t.notes,dateCreated:new Date,completed:!1})),localStorage.setItem("app",JSON.stringify(r)),a(),l()})),localStorage.getItem("app")?r=JSON.parse(localStorage.getItem("app")):(r={projects:[],currentProject:void 0},r.projects.push(o()),r.currentProject=r.projects[0]),a(),l()})();
//# sourceMappingURL=app.bundle.js.map